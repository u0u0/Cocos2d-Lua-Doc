# Roadmap

自4.0.4版本以来，已有一年有余，期间积累了一些修改并入4.0.5版本发布。至此4.0.x分支已稳定，但引擎本身并不完美，本人再三思量，考察各个引擎的差异和优缺点，决定开启引擎5.0.x的新坑，此坑改动会比较大，也不知有多少时间来完成，会花多少时间。好在总算是开坑了-，-||

## 5.0.x Beta版本

这一年来，体验了UE 5.0，Unity 2021，Godot 4.0，关注了当下微软发布的“星空”游戏使用的The Forge渲染框架，solar2d引擎。然而好用的2d引擎真不多，抛开UE和Unity，能进行商用开发的引擎屈指可数。以下是这些引擎的个人愚见，不喜勿喷。

* UE的正交相机真是一言难尽，不适合开发2d。腾讯的unlua框架改动频繁，也还不稳定。裸包体积很大。

* Unity对移动端很友好，各方面都不弱，可能开发3A差强人意，好在国内没有3A大作。唯一觉得难受的是授权费，个人开发也需要3000多一年。

* Godot是最近非常关注的引擎，稍微研究了一下，觉得各方面都还不错，正准备个平台发布一个包的时候。发现了它的坑点，居然没有导出项目的方式(unity可直接出bin可导出平台工程)，这对接入sdk，定制接口非常不友好，平台debug也非常难受。

* The Forge是个非常强大的渲染框架，后端驱动支持非常全，但只渲染，需要从头搭建非常多的工具和代码才能开发游戏。

* solar2d 是一个lua游戏引擎，但只支持OpenGL，这点已经不适合当下的发展趋势了。

结合这些发现，unity是作为项目开发的不二之选。不过自己依然想要一个可以玩的不收费的2d引擎，就个人有限的精力而言，在4.0.x基础上进行改进是最优方案。这也决定了这次改进依然是先裁剪后扩能。

1. 一个纯粹的2D引擎，去掉所有3D支持，回归本源。去3d节点，3d摄像机，3d物理等。

2. 彻底去除framework中的冗余封装。

3. 骨骼只保留spine支持。数据协议只保留lua-pb支持。

4. 去掉studio支持，只保留fgui。

5. 分辨率适配进行精简，只保留一种模式，去掉lua的display。支持动态调整分辨率，并通知logic层进行更新。

6. 各种可选模块实现完整的模块化，可直接参数配置进行编译。

## 4.0.x  LTS版本

随着Apple Metal的发布，OpenGL ES 在将来的某一天有被抛弃的可能性。于此同时Google 也有对应的下一代图像驱动 Vulkan。Cocos2d-x 3.0 的架构是与OpenGL深绑定的实现方式，不大刀很难去适配新的图形驱动。Cocos2d-x 4.0 在本月发布了第一个Release版本，对渲染框架做了大改动，有一个中间层来屏蔽各平台差异，目前已经支持OpenGL 和 Metal，而Vulkan的支持在将来也不是困难。

Cocos2d-x 4.0 去掉了JS系统，保留Lua和CPP开发。Cocos官方在版本上终于进行了区分，creator与Cocos2d-x 4.0定位上做了划分。针对native的游戏开发，Cocos2d-x 4.0高可定制性，依然是一个值得关注的版本，社区引擎将持续跟进Cocos2d-x 4.0的发展。

由于 Cocos2d-x 4.0 渲染框架的变化，不可能完全兼容3.7版本，独立维护是必然的选择。但社区版尽量保留3.7中积累的优点，为将来3.7升级4.0提供移植指导方案。

* 原则上与Cocos2d-x 4.0保持高度一致，提高易用性和稳定性。
* Player不再保留，部分功能转移到项目exe内来实现（已实现LuaGameRunner）。
* 保留3.7的音频引擎。(已实现)
* 保留framework大部分功能。（已实现）
* FairyGUI支持。（已实现）

## 3.7.x 停止维护

Quick-Cocos2dx-Community 3.7.x 进行打大幅度的裁剪和改进，感谢开发者的测试与反馈，3.7系列已成熟稳定。

后续将着重于BUG的修正，Tiledmap、spine等工具运行时的更新与维护。